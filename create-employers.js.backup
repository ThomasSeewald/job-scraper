/**
 * Script to create employers table from existing job data
 */

const EmployerOptimizedScraper = require('./src/employer-optimized-scraper');

async function main() {
    console.log('ğŸš€ Starting employer creation from existing data...');
    
    const scraper = new EmployerOptimizedScraper();
    
    try {
        const result = await scraper.createEmployersFromExistingData();
        
        console.log('\n' + '='.repeat(60));
        console.log('âœ… EMPLOYER CREATION COMPLETED');
        console.log('='.repeat(60));
        console.log(`ğŸ“Š Employers created: ${result.created}`);
        console.log(`â­ï¸ Duplicates skipped: ${result.skipped}`);
        console.log(`ğŸ“ˆ Total unique employers: ${result.created + result.skipped}`);
        console.log('='.repeat(60));
        
        console.log('\nğŸ¯ Next steps:');
        console.log('1. Run employer-optimized scraping to extract emails');
        console.log('2. Use: node run-employer-optimization.js');
        
    } catch (error) {
        console.error('âŒ Employer creation failed:', error);
        process.exit(1);
    } finally {
        await scraper.cleanup();
        process.exit(0);
    }
}

if (require.main === module) {
    main();
}

module.exports = main;